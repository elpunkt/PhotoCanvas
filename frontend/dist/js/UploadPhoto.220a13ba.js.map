{"version":3,"sources":["webpack:///./src/views/Upload.vue","webpack:///./src/views/Upload.vue?7d63","webpack:///./src/views/Upload.vue?dc2e"],"names":["class","_createElementVNode","for","_hoisted_6","_createVNode","_component_centeredDiv","_hoisted_2","id","type","ref","onChange","$options","multiple","_hoisted_3","_component_btn","size","onClick","disabled","$data","style","minWidth","_createElementBlock","_hoisted_5","_hoisted_8","_hoisted_4","components","Button","centeredDiv","data","fileSelected","isLoading","methods","uploadPhoto","this","promises","Array","from","$refs","file","files","map","f","Api","then","r","$store","commit","content","message","color","state","Promise","all","value","fileChanged","length","__exports__","render"],"mappings":"+MAESA,MAAM,W,QACTC,eAAoF,SAA7EC,IAAI,cAAcF,MAAM,qBAAoB,sBAAyB,I,QACEC,eAAI,oB,4BAOUA,eAA0B,YAApB,iBAAa,I,iBAAO,W,GAA1BE,K,SAG1EH,MAAM,iB,0IAb5BI,eAYcC,EAAA,M,uBAXZ,IAUM,CAVNJ,eAUM,MAVN,EAUM,CATJK,EACAL,eAA8E,SAAvEM,GAAG,cAAcC,KAAK,OAAOC,IAAI,OAAQC,SAAM,oBAAEC,oCAAaC,SAAA,IAArE,UAA8EC,EAC9ET,eAM+JU,EAAA,CAN1JP,GAAG,eACFQ,KAAM,QACNP,KAAM,UACNQ,QAASL,cACTM,UAAWC,eACXC,MAAO,CAAAC,mBALb,C,uBAMM,IAAmJ,CAAnJnB,eAAmJ,aAAhIiB,gBAAb,iBAAmEG,eAAmE,OAAAC,EAAAC,KAAzHL,iBAAbG,eAAmE,OAAAG,EAAxC,qB,KANvC,8B,MASON,8BAAXG,eAEM,MAFN,+B,wCAUa,GACbI,WAAY,CACV,IAAOC,OACPC,oBAEFC,OACE,MAAO,CACLC,cAAc,EACdC,WAAW,IAGfC,QAAS,CACPC,cACEC,KAAKH,WAAY,EACjB,IAAII,EAAWC,MAAMC,KAAKH,KAAKI,MAAMC,KAAKC,OAAOC,IAAKC,GAC7CC,OAAIV,YAAYS,GACpBE,KAAMC,IACLX,KAAKY,OAAOC,OAAO,kBAAmB,CAAEC,QAASH,EAAEhB,KAAKoB,QAASC,MAAOL,EAAEhB,KAAKsB,WAGrFC,QAAQC,IAAIlB,GAAUS,KAAK,KACzBV,KAAKI,MAAMC,KAAKe,MAAQ,KACxBpB,KAAKH,WAAY,EACjBG,KAAKqB,iBAGTA,cACMrB,KAAKI,MAAMC,KAAKC,MAAMgB,OAAS,EACjCtB,KAAKJ,cAAe,EAEpBI,KAAKJ,cAAe,K,iCC/C5B,MAAM2B,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAE1E,gB,oCCTf,W","file":"js/UploadPhoto.220a13ba.js","sourcesContent":["<template lang=\"html\">\n  <centeredDiv>\n    <div class=\"content\">\n      <label for=\"file-upload\" class=\"file-upload-label\">Fotos auswählen &#x1F5BC;</label>\n      <input id=\"file-upload\" type=\"file\" ref=\"file\" @change=\"fileChanged\" multiple><br>\n      <btn id=\"customButton\"\n           :size=\"'large'\"\n           :type=\"'success'\"\n           :onClick=\"uploadPhoto\"\n           :disabled=\"!fileSelected\"\n           :style=\"{minWidth: '300px'}\"\n           ><span><span v-if=\"!fileSelected\">&#x1F6A7;---&#x1F6A7;---&#x1F6A7;</span><span v-else><span>und ab dafür!</span> &#x1F470;❤️&#x1F935;</span></span></btn>\n    </div>\n  </centeredDiv>\n  <div v-if=\"isLoading\" class=\"loadingscreen\">\n\n  </div>\n</template>\n\n<script>\nimport {Api} from \"@/api/api.js\";\nimport centeredDiv from '@/components/layout/CenteredDiv'\nimport Button from '@/components/Button'\n\nexport default {\n  components: {\n    'btn': Button,\n    centeredDiv\n  },\n  data() {\n    return {\n      fileSelected: false,\n      isLoading: false\n    }\n  },\n  methods: {\n    uploadPhoto() {\n      this.isLoading = true\n      var promises = Array.from(this.$refs.file.files).map((f) => {\n        return Api.uploadPhoto(f)\n          .then((r) => {\n            this.$store.commit('addNotification', { content: r.data.message, color: r.data.state})\n          })\n      })\n      Promise.all(promises).then(() => {\n        this.$refs.file.value = null;\n        this.isLoading = false;\n        this.fileChanged()\n      })\n    },\n    fileChanged() {\n      if (this.$refs.file.files.length > 0) {\n        this.fileSelected = true;\n      } else {\n        this.fileSelected = false;\n      }\n    }\n  },\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.loadingscreen {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100vw;\n  height: 100vh;\n  background-color: white;\n  opacity: 0.5;\n  cursor: wait;\n}\n\n.content {\n  color: black;\n  background-color: white;\n  text-align: center;\n}\n\ninput[type=\"file\"] {\n    display: none;\n}\n\n.file-upload-label {\n    border: 2px solid #ccc;\n    display: flex;\n    padding: 0.25rem 0.5rem;\n    border-radius: 0.1rem;\n    cursor: pointer;\n    min-width: 300px;\n    min-height: 60px;\n    justify-content: center;\n    align-content: center;\n    flex-direction: column;\n    font-size: 2em;\n    &:hover {\n      background-color: darken(#2ecc71, 8%)\n    }\n}\n</style>\n","import { render } from \"./Upload.vue?vue&type=template&id=5785825a&scoped=true&lang=html\"\nimport script from \"./Upload.vue?vue&type=script&lang=js\"\nexport * from \"./Upload.vue?vue&type=script&lang=js\"\n\nimport \"./Upload.vue?vue&type=style&index=0&id=5785825a&lang=scss&scoped=true\"\n\nimport exportComponent from \"/home/elpunkt/Documents/PhotoCanvas/frontend/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-5785825a\"]])\n\nexport default __exports__","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Upload.vue?vue&type=style&index=0&id=5785825a&lang=scss&scoped=true\""],"sourceRoot":""}