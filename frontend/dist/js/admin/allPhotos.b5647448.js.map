{"version":3,"sources":["webpack:///./src/views/main/admin/users/List.vue?42cb","webpack:///./src/views/main/admin/users/List.vue","webpack:///./src/views/main/admin/users/List.vue?1fd9"],"names":["_createElementVNode","class","_createBlock","_component_centeredDiv","_hoisted_1","_createElementBlock","_Fragment","_renderList","$data","u","key","id","_toDisplayString","email","is_superuser","_hoisted_3","_hoisted_4","_createVNode","_component_btn","onClick","$options","bind","type","size","needsConfirmation","_ctx","push","name","components","Button","centeredDiv","data","allUsers","methods","deleteUser","Api","this","$store","state","token","then","resp","filter","p","mounted","getUsers","response","err","commit","content","color","__exports__","render"],"mappings":"mHAAA,W,2ICEQA,eAAkB,UAAd,aAAS,I,GACRC,MAAM,Q,qCAOW,a,iBAK0C,U,8GAdtEC,eAecC,EAAA,M,uBAdR,IAAkB,CAAlBC,EACAJ,eASM,MATN,EASM,qBARJK,eAOMC,OAAA,KAAAC,eAP4BC,WAALC,I,iBAA7BJ,eAOM,OAPDJ,MAAM,WAAkCS,IAAKD,EAAEE,IAApD,CACEX,eAAwB,YAAAY,eAAhBH,EAAEI,OAAK,GACHJ,EAAEK,+BAAdT,eAAwC,OAAAU,EAAZ,WAA5B,iBAAwCV,eAAwB,OAAAW,EAAX,SACrDC,eAGwCC,EAAA,CAHlCC,QAASC,aAAWC,KAAI,KAAOZ,EAAEE,IACtCW,KAAM,QACNC,KAAM,OACPC,kBAAA,IAHA,C,uBAGkB,IAAgB,K,KAHlC,sBAHF,QASFP,eAE4EC,EAAA,CAFtEI,KAAM,UACNC,KAAM,QACNJ,QAASM,UAAQC,KAAKL,KAAI,MAAAM,sBAFhC,C,uBAEgE,IAAM,K,KAFtE,iB,8CAWO,GACbC,WAAY,CACV,IAAOC,OACPC,oBAEFC,OACE,MAAO,CACLC,SAAU,KAGdC,QAAS,CACPC,WAAWvB,GACTwB,OAAID,WAAWE,KAAKC,OAAOC,MAAMC,MAAO5B,GACrC6B,KAAKC,IACoB,YAApBA,EAAKV,KAAKO,QACZF,KAAKJ,SAAWI,KAAKJ,SAASU,OAAQC,GAAMA,EAAEhC,IAAMA,QAK9DiC,UACE,IACET,OAAIU,SAAST,KAAKC,OAAOC,MAAMC,OAC5BC,KAAMM,IACLV,KAAKJ,SAAWc,EAASf,OAE7B,MAAOgB,GACPX,KAAKC,OAAOW,OAAO,kBAAmB,CAACC,QAAS,oCAAqCC,MAAO,a,iCC5ClG,MAAMC,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAE1E,gB","file":"js/admin/allPhotos.b5647448.js","sourcesContent":["export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./List.vue?vue&type=style&index=0&id=4c00a96b&lang=scss&scoped=true\"","<template lang=\"html\">\n  <centeredDiv>\n        <h1>All Users</h1>\n        <div class=\"list\">\n          <div class=\"list-row\" v-for=\"u in allUsers\" :key=\"u.id\">\n            <span>{{u.email}}</span>\n            <span v-if=\"u.is_superuser\">Admin</span><span v-else>User</span>\n            <btn :onClick=\"deleteUser.bind(this, u.id)\"\n            :type=\"'error'\"\n            :size=\"'mini'\"\n            needsConfirmation>Delete &#x1F5D1;</btn>\n          </div>\n        </div>\n        <btn :type=\"'success'\"\n             :size=\"'small'\"\n             :onClick=\"$router.push.bind(this, { name: 'Create User'})\">Create</btn>\n  </centeredDiv>\n</template>\n\n<script>\nimport {Api} from \"@/api/api.js\";\nimport centeredDiv from '@/components/layout/CenteredDiv'\nimport Button from '@/components/Button'\n\nexport default {\n  components: {\n    'btn': Button,\n    centeredDiv\n  },\n  data() {\n    return {\n      allUsers: []\n    }\n  },\n  methods: {\n    deleteUser(id) {\n      Api.deleteUser(this.$store.state.token, id)\n        .then(resp => {\n          if (resp.data.state === 'success') {\n            this.allUsers = this.allUsers.filter((p) => p.id != id)\n          }\n        })\n    }\n  },\n  mounted() {\n    try {\n      Api.getUsers(this.$store.state.token)\n        .then((response) => {\n          this.allUsers = response.data\n        })\n    } catch (err) {\n      this.$store.commit('addNotification', {content: \"Couldn't fetch the list of users.\", color: 'error'})\n    }\n\n  }\n}\n\n</script>\n\n<style lang=\"scss\" scoped>\n.list {\n  margin-bottom: 20px;\n  display: flex;\n  flex-direction: column;\n  align-items: stretch;\n}\n.list-row {\n  display: flex;\n  justify-content: space-between;\n  margin-bottom: 2px;\n  align-items: center;\n  min-width: 300px;\n}\n</style>\n","import { render } from \"./List.vue?vue&type=template&id=4c00a96b&scoped=true&lang=html\"\nimport script from \"./List.vue?vue&type=script&lang=js\"\nexport * from \"./List.vue?vue&type=script&lang=js\"\n\nimport \"./List.vue?vue&type=style&index=0&id=4c00a96b&lang=scss&scoped=true\"\n\nimport exportComponent from \"/home/elpunkt/Documents/PhotoCanvas/frontend/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-4c00a96b\"]])\n\nexport default __exports__"],"sourceRoot":""}