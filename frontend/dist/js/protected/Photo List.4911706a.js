(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["protected/Photo List"],{b20f:function(t,e,o){"use strict";o("f762")},cc00:function(t,e,o){"use strict";o.r(e);var c=o("7a23");const n=t=>(Object(c["x"])("data-v-72c2be44"),t=t(),Object(c["v"])(),t),s={class:""},l=n(()=>Object(c["h"])("h1",null,"All Photos",-1)),a={class:"photoList"},i=["src"],h=n(()=>Object(c["h"])("br",null,null,-1)),d={class:"controls"},b=Object(c["i"])("Save"),r=Object(c["i"])("Rotate ðŸ”„"),u=Object(c["i"])("Delete ðŸ—‘");function j(t,e,o,n,j,O){const f=Object(c["C"])("v-button");return Object(c["u"])(),Object(c["g"])("div",s,[Object(c["h"])("div",null,[l,Object(c["h"])("div",a,[(Object(c["u"])(!0),Object(c["g"])(c["a"],null,Object(c["A"])(j.allPhotos,e=>(Object(c["u"])(),Object(c["g"])("div",{key:e.id},[Object(c["h"])("span",null,[Object(c["h"])("img",{class:"thumbnail",src:"/uploaded/"+e.filename},null,8,i)]),h,Object(c["h"])("div",d,[Object(c["j"])(f,{type:"warning",onClick:O.downloadPhoto.bind(this,e.filename)},{default:Object(c["J"])(()=>[b]),_:2},1032,["onClick"]),t.$store.getters.hasAdminAccess?(Object(c["u"])(),Object(c["e"])(f,{key:0,type:"info",onClick:O.rotatePhoto.bind(this,e.id)},{default:Object(c["J"])(()=>[r]),_:2},1032,["onClick"])):Object(c["f"])("",!0),t.$store.getters.hasAdminAccess?(Object(c["u"])(),Object(c["e"])(f,{key:1,type:"error",onClick:O.deletePhoto.bind(this,e.id),confirmText:"Foto lÃ¶schen",cancelText:"Abbrechen",needsConfirmation:""},{default:Object(c["J"])(()=>[u]),_:2},1032,["onClick"])):Object(c["f"])("",!0)])]))),128))])])])}var O=o("4ec3"),f=o("2a7d"),p={components:{"v-button":f["a"]},data(){return{allPhotos:[]}},methods:{deletePhoto(t){O["a"].deletePhoto(this.$store.state.token,t).then(e=>{"success"===e.data.state&&(this.allPhotos=this.allPhotos.filter(e=>e.id!=t))})},rotatePhoto(t){O["a"].rotatePhoto(this.$store.state.token,t).then(t=>{console.log(t)})},downloadPhoto(t){window.open("/uploaded/"+t)}},mounted(){try{console.log(this.$store.state.token),O["a"].getAllPhotos(this.$store.state.token).then(t=>{this.allPhotos=t.data})}catch(t){this.$store.commit("addNotification",{content:"Couldn't fetch the list of photos.",color:"error"})}}},P=(o("b20f"),o("6b0d")),k=o.n(P);const m=k()(p,[["render",j],["__scopeId","data-v-72c2be44"]]);e["default"]=m},f762:function(t,e,o){}}]);
//# sourceMappingURL=Photo List.4911706a.js.map