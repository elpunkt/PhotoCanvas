{"version":3,"sources":["webpack:///./src/views/main/protected/PhotoList.vue","webpack:///./src/views/main/protected/PhotoList.vue?5523","webpack:///./src/views/main/protected/PhotoList.vue?c159"],"names":["class","_createElementVNode","_createElementBlock","_hoisted_2","_Fragment","_renderList","$data","p","key","id","src","filename","_hoisted_5","_createVNode","_component_v_button","type","onClick","$options","bind","_ctx","getters","hasAdminAccess","_createBlock","confirmText","cancelText","confirmQuestion","needsConfirmation","components","Button","data","allPhotos","methods","deletePhoto","Api","this","$store","state","token","then","resp","filter","rotatePhoto","console","log","downloadPhoto","window","open","mounted","getAllPhotos","response","err","commit","content","color","__exports__","render"],"mappings":"iPACOA,MAAM,I,QAEPC,eAAmB,UAAf,cAAU,I,GACTD,MAAM,a,kBAE8DC,eAAI,oB,GACpED,MAAM,Y,iBAEuC,Q,iBAGR,a,iBAOtB,a,mFAlB5BE,eAuBM,MAvBN,EAuBM,CAtBJD,eAqBM,YApBJE,EACAF,eAkBM,MAlBN,EAkBM,qBAjBJC,eAgBIE,OAAA,KAAAC,eAhBaC,YAALC,I,iBAAZL,eAgBI,OAhByBM,IAAKD,EAAEE,IAApC,CACER,eAAqE,aAA/DA,eAAwD,OAAnDD,MAAM,YAAaU,IAAG,aAAiBH,EAAEI,UAA9C,YAA+DC,EACrEX,eAaM,MAbN,EAaM,CAZJY,eAC+DC,EAAA,CADpDC,KAAM,UAChBC,QAASC,gBAAcC,KAAI,KAAOX,EAAEI,WADrC,C,uBACgD,IAAI,K,KADpD,kBAEgBQ,SAAOC,QAAQC,iCAA/BC,eAEmER,EAAA,C,MADlEC,KAAM,OACNC,QAASC,cAAYC,KAAI,KAAOX,EAAEE,KAFnC,C,uBAEwC,IAAgB,K,KAFxD,yCAGgBU,SAAOC,QAAQC,iCAA/BC,eAM6CR,EAAA,C,MAL5CC,KAAM,QACNC,QAASC,cAAYC,KAAI,KAAOX,EAAEE,IAClCc,YAAa,eACbC,WAAY,YACZC,gBAAiB,yDAClBC,kBAAA,IANA,C,uBAMkB,IAAgB,K,KANlC,+CARJ,Y,4BA0BO,GACbC,WAAY,CACV,WAAaC,QAEfC,OACE,MAAO,CACLC,UAAW,KAGfC,QAAS,CACPC,YAAYvB,GACVwB,OAAID,YAAYE,KAAKC,OAAOC,MAAMC,MAAO5B,GACtC6B,KAAKC,IACoB,YAApBA,EAAKV,KAAKO,QACZF,KAAKJ,UAAYI,KAAKJ,UAAUU,OAAQjC,GAAMA,EAAEE,IAAMA,OAI9DgC,YAAYhC,GACVwB,OAAIQ,YAAYP,KAAKC,OAAOC,MAAMC,MAAO5B,GACtC6B,KAAKC,IACJG,QAAQC,IAAIJ,MAGlBK,cAAcjC,GACZkC,OAAOC,KAAK,aAAenC,KAG/BoC,UACE,IACEd,OAAIe,aAAad,KAAKC,OAAOC,MAAMC,OAChCC,KAAMW,IACLf,KAAKJ,UAAYmB,EAASpB,OAE9B,MAAOqB,GACPhB,KAAKC,OAAOgB,OAAO,kBAAmB,CAACC,QAAS,qCAAsCC,MAAO,a,iCC3DnG,MAAMC,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAE1E,gB,kCCTf","file":"js/protected/Photo List.213c15c2.js","sourcesContent":["<template lang=\"html\">\n  <div class=\"\">\n    <div>\n      <h1>All Photos</h1>\n      <div class=\"photoList\">\n        <div v-for=\"p in allPhotos\" :key=\"p.id\">\n          <span><img class=\"thumbnail\" :src=\"'/uploaded/' + p.filename\"></span><br>\n          <div class=\"controls\">\n            <v-button :type=\"'warning'\"\n            :onClick=\"downloadPhoto.bind(this, p.filename)\">Save</v-button>\n            <v-button v-if=\"$store.getters.hasAdminAccess\"\n            :type=\"'info'\"\n            :onClick=\"rotatePhoto.bind(this, p.id)\">Rotate &#x1F504;</v-button>\n            <v-button v-if=\"$store.getters.hasAdminAccess\"\n            :type=\"'error'\"\n            :onClick=\"deletePhoto.bind(this, p.id)\"\n            :confirmText=\"'Foto löschen'\"\n            :cancelText=\"'Abbrechen'\"\n            :confirmQuestion=\"'Willst du dieses Foto wirklich unwiderruflich löschen?'\"\n            needsConfirmation>Delete &#x1F5D1;</v-button>\n          </div>\n      </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport {Api} from \"@/api/api.js\";\nimport Button from \"@/components/Button\"\n\nexport default {\n  components: {\n    'v-button' : Button\n  },\n  data() {\n    return {\n      allPhotos: []\n    }\n  },\n  methods: {\n    deletePhoto(id) {\n      Api.deletePhoto(this.$store.state.token, id)\n        .then(resp => {\n          if (resp.data.state === 'success') {\n            this.allPhotos = this.allPhotos.filter((p) => p.id != id)\n          }\n        })\n    },\n    rotatePhoto(id) {\n      Api.rotatePhoto(this.$store.state.token, id)\n        .then(resp => {\n          console.log(resp);\n        })\n    },\n    downloadPhoto(filename) {\n      window.open('/uploaded/' + filename)\n    }\n  },\n  mounted() {\n    try {\n      Api.getAllPhotos(this.$store.state.token)\n        .then((response) => {\n          this.allPhotos = response.data\n        })\n    } catch (err) {\n      this.$store.commit('addNotification', {content: \"Couldn't fetch the list of photos.\", color: 'error'})\n    }\n\n  }\n}\n\n</script>\n\n<style lang=\"scss\" scoped>\n.photoList {\n  display: flex;\n  flex-direction: row;\n  overflow: scroll;\n  align-items: flex-end;\n  height: 94vh;\n  > div {\n    margin-left: 40px;\n    margin-bottom: 20px;\n  }\n}\n\n.thumbnail {\n  max-height: 90vh;\n  max-width: 98vw;\n}\n\n.controls {\n  > ::v-deep button {\n    margin-left: 5px;\n  }\n}\n\n</style>\n","import { render } from \"./PhotoList.vue?vue&type=template&id=f4f88048&scoped=true&lang=html\"\nimport script from \"./PhotoList.vue?vue&type=script&lang=js\"\nexport * from \"./PhotoList.vue?vue&type=script&lang=js\"\n\nimport \"./PhotoList.vue?vue&type=style&index=0&id=f4f88048&lang=scss&scoped=true\"\n\nimport exportComponent from \"/home/elpunkt/Documents/PhotoCanvas/frontend/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-f4f88048\"]])\n\nexport default __exports__","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./PhotoList.vue?vue&type=style&index=0&id=f4f88048&lang=scss&scoped=true\""],"sourceRoot":""}