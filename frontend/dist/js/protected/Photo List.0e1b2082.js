(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["protected/Photo List"],{7630:function(t,e,o){},cc00:function(t,e,o){"use strict";o.r(e);var c=o("7a23");const n=t=>(Object(c["x"])("data-v-64a5a0ba"),t=t(),Object(c["v"])(),t),s={class:""},a=n(()=>Object(c["h"])("h1",null,"All Photos",-1)),l=["src"],i=n(()=>Object(c["h"])("br",null,null,-1)),h={key:0},b=Object(c["i"])("Rotate ðŸ”„"),d=Object(c["i"])("Delete ðŸ—‘");function r(t,e,o,n,r,u){const j=Object(c["C"])("v-button");return Object(c["u"])(),Object(c["g"])("div",s,[Object(c["h"])("div",null,[a,(Object(c["u"])(!0),Object(c["g"])(c["a"],null,Object(c["A"])(r.allPhotos,e=>(Object(c["u"])(),Object(c["g"])("div",{key:e.id},[Object(c["h"])("span",null,[Object(c["h"])("img",{class:"thumbnail",src:"/uploaded/"+e.filename},null,8,l)]),i,t.$store.getters.hasAdminAccess?(Object(c["u"])(),Object(c["g"])("div",h,[Object(c["j"])(j,{type:"info",onClick:u.rotatePhoto.bind(this,e.id)},{default:Object(c["J"])(()=>[b]),_:2},1032,["onClick"]),Object(c["j"])(j,{type:"error",onClick:u.deletePhoto.bind(this,e.id),confirmText:"Foto lÃ¶schen",cancelText:"Abbrechen",needsConfirmation:""},{default:Object(c["J"])(()=>[d]),_:2},1032,["onClick"])])):Object(c["f"])("",!0)]))),128))])])}var u=o("4ec3"),j=o("2a7d"),O={components:{"v-button":j["a"]},data(){return{allPhotos:[]}},methods:{deletePhoto(t){u["a"].deletePhoto(this.$store.state.token,t).then(e=>{"success"===e.data.state&&(this.allPhotos=this.allPhotos.filter(e=>e.id!=t))})},rotatePhoto(t){u["a"].rotatePhoto(this.$store.state.token,t).then(t=>{console.log(t)})}},mounted(){try{console.log(this.$store.state.token),u["a"].getAllPhotos(this.$store.state.token).then(t=>{this.allPhotos=t.data})}catch(t){this.$store.commit("addNotification",{content:"Couldn't fetch the list of photos.",color:"error"})}}},f=(o("e24a"),o("6b0d")),P=o.n(f);const p=P()(O,[["render",r],["__scopeId","data-v-64a5a0ba"]]);e["default"]=p},e24a:function(t,e,o){"use strict";o("7630")}}]);
//# sourceMappingURL=Photo List.0e1b2082.js.map