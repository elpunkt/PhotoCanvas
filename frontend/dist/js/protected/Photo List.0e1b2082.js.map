{"version":3,"sources":["webpack:///./src/views/main/protected/PhotoList.vue","webpack:///./src/views/main/protected/PhotoList.vue?5523","webpack:///./src/views/main/protected/PhotoList.vue?64be"],"names":["class","_createElementVNode","_createElementBlock","_hoisted_2","_Fragment","_renderList","$data","p","key","id","src","filename","_hoisted_4","_ctx","getters","hasAdminAccess","_hoisted_5","_createVNode","_component_v_button","type","onClick","$options","bind","confirmText","cancelText","needsConfirmation","components","Button","data","allPhotos","methods","deletePhoto","Api","this","$store","state","token","then","resp","filter","rotatePhoto","console","log","mounted","getAllPhotos","response","err","commit","content","color","__exports__","render"],"mappings":"+OACOA,MAAM,I,QAEPC,eAAmB,UAAf,cAAU,I,kBAEyDA,eAAI,oB,2BAEN,a,iBAKrC,a,mFAXpCC,eAeM,MAfN,EAeM,CAdJD,eAaM,YAZJE,GAYI,mBAXJD,eAUME,OAAA,KAAAC,eAVWC,YAALC,I,iBAAZL,eAUM,OAVuBM,IAAKD,EAAEE,IAApC,CACER,eAAqE,aAA/DA,eAAwD,OAAnDD,MAAM,YAAaU,IAAG,aAAiBH,EAAEI,UAA9C,YAA+DC,EAC1DC,SAAOC,QAAQC,iCAA1Bb,eAOM,MAAAc,EAAA,CANJC,eAA4FC,EAAA,CAAjFC,KAAM,OAASC,QAASC,cAAYC,KAAI,KAAOf,EAAEE,KAA5D,C,uBAAiE,IAAgB,K,KAAjF,kBACAQ,eAIuDC,EAAA,CAJ5CC,KAAM,QACNC,QAASC,cAAYC,KAAI,KAAOf,EAAEE,IAClCc,YAAa,eACbC,WAAY,YACbC,kBAAA,IAJV,C,uBAI4B,IAAgB,K,KAJ5C,qBAFF,0BAFF,U,4BAmBS,GACbC,WAAY,CACV,WAAaC,QAEfC,OACE,MAAO,CACLC,UAAW,KAGfC,QAAS,CACPC,YAAYtB,GACVuB,OAAID,YAAYE,KAAKC,OAAOC,MAAMC,MAAO3B,GACtC4B,KAAKC,IACoB,YAApBA,EAAKV,KAAKO,QACZF,KAAKJ,UAAYI,KAAKJ,UAAUU,OAAQhC,GAAMA,EAAEE,IAAMA,OAI9D+B,YAAY/B,GACVuB,OAAIQ,YAAYP,KAAKC,OAAOC,MAAMC,MAAO3B,GACtC4B,KAAKC,IACJG,QAAQC,IAAIJ,OAIpBK,UACE,IACEF,QAAQC,IAAIT,KAAKC,OAAOC,MAAMC,OAC9BJ,OAAIY,aAAaX,KAAKC,OAAOC,MAAMC,OAChCC,KAAMQ,IACLZ,KAAKJ,UAAYgB,EAASjB,OAE9B,MAAOkB,GACPb,KAAKC,OAAOa,OAAO,kBAAmB,CAACC,QAAS,qCAAsCC,MAAO,a,iCCjDnG,MAAMC,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAE1E,gB,kCCTf","file":"js/protected/Photo List.0e1b2082.js","sourcesContent":["<template lang=\"html\">\n  <div class=\"\">\n    <div>\n      <h1>All Photos</h1>\n      <div v-for=\"p in allPhotos\" :key=\"p.id\">\n        <span><img class=\"thumbnail\" :src=\"'/uploaded/' + p.filename\"></span><br>\n        <div v-if=\"$store.getters.hasAdminAccess\">\n          <v-button :type=\"'info'\" :onClick=\"rotatePhoto.bind(this, p.id)\">Rotate &#x1F504;</v-button>\n          <v-button :type=\"'error'\"\n                    :onClick=\"deletePhoto.bind(this, p.id)\"\n                    :confirmText=\"'Foto lÃ¶schen'\"\n                    :cancelText=\"'Abbrechen'\"\n                    needsConfirmation>Delete &#x1F5D1;</v-button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport {Api} from \"@/api/api.js\";\nimport Button from \"@/components/Button\"\n\nexport default {\n  components: {\n    'v-button' : Button\n  },\n  data() {\n    return {\n      allPhotos: []\n    }\n  },\n  methods: {\n    deletePhoto(id) {\n      Api.deletePhoto(this.$store.state.token, id)\n        .then(resp => {\n          if (resp.data.state === 'success') {\n            this.allPhotos = this.allPhotos.filter((p) => p.id != id)\n          }\n        })\n    },\n    rotatePhoto(id) {\n      Api.rotatePhoto(this.$store.state.token, id)\n        .then(resp => {\n          console.log(resp);\n        })\n    }\n  },\n  mounted() {\n    try {\n      console.log(this.$store.state.token);\n      Api.getAllPhotos(this.$store.state.token)\n        .then((response) => {\n          this.allPhotos = response.data\n        })\n    } catch (err) {\n      this.$store.commit('addNotification', {content: \"Couldn't fetch the list of photos.\", color: 'error'})\n    }\n\n  }\n}\n\n</script>\n\n<style lang=\"scss\" scoped>\n.clickable {\n  cursor: pointer;\n}\n.thumbnail {\n  max-width: 200px;\n  max-height: 200px;\n}\n</style>\n","import { render } from \"./PhotoList.vue?vue&type=template&id=64a5a0ba&scoped=true&lang=html\"\nimport script from \"./PhotoList.vue?vue&type=script&lang=js\"\nexport * from \"./PhotoList.vue?vue&type=script&lang=js\"\n\nimport \"./PhotoList.vue?vue&type=style&index=0&id=64a5a0ba&lang=scss&scoped=true\"\n\nimport exportComponent from \"/home/elpunkt/Documents/PhotoCanvas/frontend/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-64a5a0ba\"]])\n\nexport default __exports__","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./PhotoList.vue?vue&type=style&index=0&id=64a5a0ba&lang=scss&scoped=true\""],"sourceRoot":""}