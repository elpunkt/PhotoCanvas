{"version":3,"sources":["webpack:///./src/views/main/protected/PhotoList.vue?4c0e","webpack:///./src/views/main/protected/PhotoList.vue","webpack:///./src/views/main/protected/PhotoList.vue?5523"],"names":["class","_createElementVNode","_createElementBlock","_hoisted_2","_Fragment","_renderList","$data","p","key","id","src","filename","_hoisted_5","_createVNode","_component_v_button","type","onClick","$options","bind","_ctx","getters","hasAdminAccess","_createBlock","confirmText","cancelText","needsConfirmation","components","Button","data","allPhotos","methods","deletePhoto","Api","this","$store","state","token","then","resp","filter","rotatePhoto","console","log","downloadPhoto","window","open","mounted","getAllPhotos","response","err","commit","content","color","__exports__","render"],"mappings":"sHAAA,W,oICCOA,MAAM,I,QAEPC,eAAmB,UAAf,cAAU,I,GACTD,MAAM,a,kBAE8DC,eAAI,oB,GACpED,MAAM,Y,iBAEuC,Q,iBAGR,a,iBAMtB,a,mFAjB5BE,eAsBM,MAtBN,EAsBM,CArBJD,eAoBM,YAnBJE,EACAF,eAiBM,MAjBN,EAiBM,qBAhBJC,eAeIE,OAAA,KAAAC,eAfaC,YAALC,I,iBAAZL,eAeI,OAfyBM,IAAKD,EAAEE,IAApC,CACER,eAAqE,aAA/DA,eAAwD,OAAnDD,MAAM,YAAaU,IAAG,aAAiBH,EAAEI,UAA9C,YAA+DC,EACrEX,eAYM,MAZN,EAYM,CAXJY,eAC+DC,EAAA,CADpDC,KAAM,UAChBC,QAASC,gBAAcC,KAAI,KAAOX,EAAEI,WADrC,C,uBACgD,IAAI,K,KADpD,kBAEgBQ,SAAOC,QAAQC,iCAA/BC,eAEmER,EAAA,C,MADlEC,KAAM,OACNC,QAASC,cAAYC,KAAI,KAAOX,EAAEE,KAFnC,C,uBAEwC,IAAgB,K,KAFxD,yCAGgBU,SAAOC,QAAQC,iCAA/BC,eAK6CR,EAAA,C,MAJ5CC,KAAM,QACNC,QAASC,cAAYC,KAAI,KAAOX,EAAEE,IAClCc,YAAa,eACbC,WAAY,YACbC,kBAAA,IALA,C,uBAKkB,IAAgB,K,KALlC,+CARJ,Y,4BAyBO,GACbC,WAAY,CACV,WAAaC,QAEfC,OACE,MAAO,CACLC,UAAW,KAGfC,QAAS,CACPC,YAAYtB,GACVuB,OAAID,YAAYE,KAAKC,OAAOC,MAAMC,MAAO3B,GACtC4B,KAAKC,IACoB,YAApBA,EAAKV,KAAKO,QACZF,KAAKJ,UAAYI,KAAKJ,UAAUU,OAAQhC,GAAMA,EAAEE,IAAMA,OAI9D+B,YAAY/B,GACVuB,OAAIQ,YAAYP,KAAKC,OAAOC,MAAMC,MAAO3B,GACtC4B,KAAKC,IACJG,QAAQC,IAAIJ,MAGlBK,cAAchC,GACZiC,OAAOC,KAAK,aAAelC,KAG/BmC,UACE,IACEL,QAAQC,IAAIT,KAAKC,OAAOC,MAAMC,OAC9BJ,OAAIe,aAAad,KAAKC,OAAOC,MAAMC,OAChCC,KAAMW,IACLf,KAAKJ,UAAYmB,EAASpB,OAE9B,MAAOqB,GACPhB,KAAKC,OAAOgB,OAAO,kBAAmB,CAACC,QAAS,qCAAsCC,MAAO,a,iCC3DnG,MAAMC,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAE1E,gB","file":"js/protected/Photo List.4911706a.js","sourcesContent":["export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./PhotoList.vue?vue&type=style&index=0&id=72c2be44&lang=scss&scoped=true\"","<template lang=\"html\">\n  <div class=\"\">\n    <div>\n      <h1>All Photos</h1>\n      <div class=\"photoList\">\n        <div v-for=\"p in allPhotos\" :key=\"p.id\">\n          <span><img class=\"thumbnail\" :src=\"'/uploaded/' + p.filename\"></span><br>\n          <div class=\"controls\">\n            <v-button :type=\"'warning'\"\n            :onClick=\"downloadPhoto.bind(this, p.filename)\">Save</v-button>\n            <v-button v-if=\"$store.getters.hasAdminAccess\"\n            :type=\"'info'\"\n            :onClick=\"rotatePhoto.bind(this, p.id)\">Rotate &#x1F504;</v-button>\n            <v-button v-if=\"$store.getters.hasAdminAccess\"\n            :type=\"'error'\"\n            :onClick=\"deletePhoto.bind(this, p.id)\"\n            :confirmText=\"'Foto lÃ¶schen'\"\n            :cancelText=\"'Abbrechen'\"\n            needsConfirmation>Delete &#x1F5D1;</v-button>\n          </div>\n      </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport {Api} from \"@/api/api.js\";\nimport Button from \"@/components/Button\"\n\nexport default {\n  components: {\n    'v-button' : Button\n  },\n  data() {\n    return {\n      allPhotos: []\n    }\n  },\n  methods: {\n    deletePhoto(id) {\n      Api.deletePhoto(this.$store.state.token, id)\n        .then(resp => {\n          if (resp.data.state === 'success') {\n            this.allPhotos = this.allPhotos.filter((p) => p.id != id)\n          }\n        })\n    },\n    rotatePhoto(id) {\n      Api.rotatePhoto(this.$store.state.token, id)\n        .then(resp => {\n          console.log(resp);\n        })\n    },\n    downloadPhoto(filename) {\n      window.open('/uploaded/' + filename)\n    }\n  },\n  mounted() {\n    try {\n      console.log(this.$store.state.token);\n      Api.getAllPhotos(this.$store.state.token)\n        .then((response) => {\n          this.allPhotos = response.data\n        })\n    } catch (err) {\n      this.$store.commit('addNotification', {content: \"Couldn't fetch the list of photos.\", color: 'error'})\n    }\n\n  }\n}\n\n</script>\n\n<style lang=\"scss\" scoped>\n.photoList {\n  display: flex;\n  flex-direction: row;\n  overflow: scroll;\n  max-height: 94vh;\n  align-items: flex-end;\n  > div {\n    margin-left: 40px;\n    margin-bottom: 20px;\n  }\n}\n\n</style>\n","import { render } from \"./PhotoList.vue?vue&type=template&id=72c2be44&scoped=true&lang=html\"\nimport script from \"./PhotoList.vue?vue&type=script&lang=js\"\nexport * from \"./PhotoList.vue?vue&type=script&lang=js\"\n\nimport \"./PhotoList.vue?vue&type=style&index=0&id=72c2be44&lang=scss&scoped=true\"\n\nimport exportComponent from \"/home/elpunkt/Documents/PhotoCanvas/frontend/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-72c2be44\"]])\n\nexport default __exports__"],"sourceRoot":""}